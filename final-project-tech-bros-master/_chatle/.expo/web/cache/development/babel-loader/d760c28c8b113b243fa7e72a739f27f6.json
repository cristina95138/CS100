{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = postAsForm;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nfunction postAsForm(url, data) {\n  var response, form;\n  return _regenerator.default.async(function postAsForm$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          form = [];\n          addItemsToForm(form, typeof data == 'object' ? [] : [options.name || 'model'], data);\n          _context.next = 5;\n          return _regenerator.default.awrap(fetch(url, {\n            method: 'post',\n            headers: {\n              'Accept': 'application/json, application/xml, text/play, text/html, *.*',\n              'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n            },\n            body: form.join('&')\n          }));\n\n        case 5:\n          response = _context.sent;\n          _context.next = 8;\n          return _regenerator.default.awrap(response.text());\n\n        case 8:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          _context.t0.response = response;\n          throw _context.t0;\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 11]], Promise);\n}\n\nfunction addItemsToForm(form, names, obj) {\n  if (obj === undefined || obj === \"\" || obj === null) return addItemToForm(form, names, \"\");\n  if (typeof obj == \"string\" || typeof obj == \"number\" || obj === true || obj === false) return addItemToForm(form, names, obj);\n  if (obj instanceof Date) return addItemToForm(form, names, obj.toJSON());\n\n  if (obj instanceof Array) {\n    return obj.forEach(function (v, i) {\n      names.push(\"[\" + i + \"]\");\n      addItemsToForm(form, names, v);\n      names.pop();\n    });\n  }\n\n  if (typeof obj === \"object\") {\n    return Object.keys(obj).forEach(function (k) {\n      names.push(k);\n      addItemsToForm(form, names, obj[k]);\n      names.pop();\n    });\n  }\n}\n\nfunction addItemToForm(form, names, value) {\n  var name = encodeURIComponent(names.join('.').replace(/\\.\\[/g, '['));\n  value = encodeURIComponent(value.toString());\n  form.push(name + \"=\" + value);\n}","map":{"version":3,"sources":["/Users/armanikorsich/UCRCS100/final-project-tech-bros/_chatle/node_modules/react-native-dialogflow/js/googleAuth/postAsForm.js"],"names":["postAsForm","url","data","form","addItemsToForm","options","name","fetch","method","headers","body","join","response","text","names","obj","undefined","addItemToForm","Date","toJSON","Array","forEach","v","i","push","pop","Object","keys","k","value","encodeURIComponent","replace","toString"],"mappings":";;;;;;;;;AAAe,SAAeA,UAAf,CAA0BC,GAA1B,EAA+BC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKHC,UAAAA,IALG,GAKI,EALJ;AAQPC,UAAAA,cAAc,CAACD,IAAD,EAAO,OAAOD,IAAP,IAAe,QAAf,GAA0B,EAA1B,GAA+B,CAACG,OAAO,CAACC,IAAR,IAAgB,OAAjB,CAAtC,EAAiEJ,IAAjE,CAAd;AARO;AAAA,4CAWcK,KAAK,CAACN,GAAD,EAAM;AAC5BO,YAAAA,MAAM,EAAE,MADoB;AAE5BC,YAAAA,OAAO,EAAE;AACL,wBAAU,8DADL;AAEL,8BAAgB;AAFX,aAFmB;AAM5BC,YAAAA,IAAI,EAAEP,IAAI,CAACQ,IAAL,CAAU,GAAV;AANsB,WAAN,CAXnB;;AAAA;AAWHC,UAAAA,QAXG;AAAA;AAAA,4CAqBMA,QAAQ,CAACC,IAAT,EArBN;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAwBP,sBAAID,QAAJ,GAAeA,QAAf;AAxBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA6Bf,SAASR,cAAT,CAAwBD,IAAxB,EAA8BW,KAA9B,EAAqCC,GAArC,EAA0C;AACtC,MAAIA,GAAG,KAAKC,SAAR,IAAqBD,GAAG,KAAK,EAA7B,IAAmCA,GAAG,KAAK,IAA/C,EAAqD,OAAOE,aAAa,CAACd,IAAD,EAAOW,KAAP,EAAc,EAAd,CAApB;AAErD,MACI,OAAOC,GAAP,IAAc,QAAd,IACG,OAAOA,GAAP,IAAc,QADjB,IAEGA,GAAG,KAAK,IAFX,IAGGA,GAAG,KAAK,KAJf,EAKE,OAAOE,aAAa,CAACd,IAAD,EAAOW,KAAP,EAAcC,GAAd,CAApB;AAEF,MAAIA,GAAG,YAAYG,IAAnB,EAAyB,OAAOD,aAAa,CAACd,IAAD,EAAOW,KAAP,EAAcC,GAAG,CAACI,MAAJ,EAAd,CAApB;;AAGzB,MAAIJ,GAAG,YAAYK,KAAnB,EAA0B;AACtB,WAAOL,GAAG,CAACM,OAAJ,CAAY,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACzBT,MAAAA,KAAK,CAACU,IAAN,OAAeD,CAAf;AACAnB,MAAAA,cAAc,CAACD,IAAD,EAAOW,KAAP,EAAcQ,CAAd,CAAd;AACAR,MAAAA,KAAK,CAACW,GAAN;AACH,KAJM,CAAP;AAKH;;AAED,MAAI,OAAOV,GAAP,KAAe,QAAnB,EAA6B;AACzB,WAAOW,MAAM,CAACC,IAAP,CAAYZ,GAAZ,EAAiBM,OAAjB,CAAyB,UAACO,CAAD,EAAO;AACnCd,MAAAA,KAAK,CAACU,IAAN,CAAWI,CAAX;AACAxB,MAAAA,cAAc,CAACD,IAAD,EAAOW,KAAP,EAAcC,GAAG,CAACa,CAAD,CAAjB,CAAd;AACAd,MAAAA,KAAK,CAACW,GAAN;AACH,KAJM,CAAP;AAKH;AACJ;;AAED,SAASR,aAAT,CAAuBd,IAAvB,EAA6BW,KAA7B,EAAoCe,KAApC,EAA2C;AACvC,MAAIvB,IAAI,GAAGwB,kBAAkB,CAAChB,KAAK,CAACH,IAAN,CAAW,GAAX,EAAgBoB,OAAhB,CAAwB,OAAxB,EAAiC,GAAjC,CAAD,CAA7B;AACAF,EAAAA,KAAK,GAAGC,kBAAkB,CAACD,KAAK,CAACG,QAAN,EAAD,CAA1B;AACA7B,EAAAA,IAAI,CAACqB,IAAL,CAAalB,IAAb,SAAqBuB,KAArB;AACH","sourcesContent":["export default async function postAsForm(url, data) {\n    var response;\n    try {\n\n        //array that holds the items that get added into the form\n        var form = [];\n\n        //special handling for object/array data, arrays will use \"model\" as the container ns\n        addItemsToForm(form, typeof data == 'object' ? [] : [options.name || 'model'], data);\n\n        //you'll need to await on response.text/blob/json etc\n        var response = await fetch(url, {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json, application/xml, text/play, text/html, *.*',\n                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n            },\n            body: form.join('&')\n        });\n\n        //return plain text as-is, don't parse it here\n        return await response.text();\n    } catch (err) {\n        //console.error(\"Error from server:\", err && err.stack || err);\n        err.response = response;\n        throw err;\n    }\n}\n\nfunction addItemsToForm(form, names, obj) {\n    if (obj === undefined || obj === \"\" || obj === null) return addItemToForm(form, names, \"\");\n\n    if (\n        typeof obj == \"string\"\n        || typeof obj == \"number\"\n        || obj === true\n        || obj === false\n    ) return addItemToForm(form, names, obj);\n\n    if (obj instanceof Date) return addItemToForm(form, names, obj.toJSON());\n\n    // array or otherwise array-like\n    if (obj instanceof Array) {\n        return obj.forEach((v, i) => {\n            names.push(`[${i}]`);\n            addItemsToForm(form, names, v);\n            names.pop();\n        });\n    }\n\n    if (typeof obj === \"object\") {\n        return Object.keys(obj).forEach((k) => {\n            names.push(k);\n            addItemsToForm(form, names, obj[k]);\n            names.pop();\n        });\n    }\n}\n\nfunction addItemToForm(form, names, value) {\n    var name = encodeURIComponent(names.join('.').replace(/\\.\\[/g, '['));\n    value = encodeURIComponent(value.toString());\n    form.push(`${name}=${value}`);\n}\n"]},"metadata":{},"sourceType":"script"}