{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Actions\", {\n  enumerable: true,\n  get: function get() {\n    return _Actions.default;\n  }\n});\nObject.defineProperty(exports, \"Avatar\", {\n  enumerable: true,\n  get: function get() {\n    return _Avatar.default;\n  }\n});\nObject.defineProperty(exports, \"Bubble\", {\n  enumerable: true,\n  get: function get() {\n    return _Bubble.default;\n  }\n});\nObject.defineProperty(exports, \"SystemMessage\", {\n  enumerable: true,\n  get: function get() {\n    return _SystemMessage.default;\n  }\n});\nObject.defineProperty(exports, \"MessageImage\", {\n  enumerable: true,\n  get: function get() {\n    return _MessageImage.default;\n  }\n});\nObject.defineProperty(exports, \"MessageText\", {\n  enumerable: true,\n  get: function get() {\n    return _MessageText.default;\n  }\n});\nObject.defineProperty(exports, \"Composer\", {\n  enumerable: true,\n  get: function get() {\n    return _Composer.default;\n  }\n});\nObject.defineProperty(exports, \"Day\", {\n  enumerable: true,\n  get: function get() {\n    return _Day.default;\n  }\n});\nObject.defineProperty(exports, \"InputToolbar\", {\n  enumerable: true,\n  get: function get() {\n    return _InputToolbar.default;\n  }\n});\nObject.defineProperty(exports, \"LoadEarlier\", {\n  enumerable: true,\n  get: function get() {\n    return _LoadEarlier.default;\n  }\n});\nObject.defineProperty(exports, \"Message\", {\n  enumerable: true,\n  get: function get() {\n    return _Message.default;\n  }\n});\nObject.defineProperty(exports, \"MessageContainer\", {\n  enumerable: true,\n  get: function get() {\n    return _MessageContainer.default;\n  }\n});\nObject.defineProperty(exports, \"Send\", {\n  enumerable: true,\n  get: function get() {\n    return _Send.default;\n  }\n});\nObject.defineProperty(exports, \"Time\", {\n  enumerable: true,\n  get: function get() {\n    return _Time.default;\n  }\n});\nObject.defineProperty(exports, \"GiftedAvatar\", {\n  enumerable: true,\n  get: function get() {\n    return _GiftedAvatar.default;\n  }\n});\nexports.utils = exports.GiftedChat = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeActionSheet = require(\"@expo/react-native-action-sheet\");\n\nvar _uuid = _interopRequireDefault(require(\"uuid\"));\n\nvar _reactNativeIphoneXHelper = require(\"react-native-iphone-x-helper\");\n\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\n\nvar _localizedFormat = _interopRequireDefault(require(\"dayjs/plugin/localizedFormat\"));\n\nvar utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = utils;\n\nvar _Actions = _interopRequireDefault(require(\"./Actions\"));\n\nvar _Avatar = _interopRequireDefault(require(\"./Avatar\"));\n\nvar _Bubble = _interopRequireDefault(require(\"./Bubble\"));\n\nvar _SystemMessage = _interopRequireDefault(require(\"./SystemMessage\"));\n\nvar _MessageImage = _interopRequireDefault(require(\"./MessageImage\"));\n\nvar _MessageText = _interopRequireDefault(require(\"./MessageText\"));\n\nvar _Composer = _interopRequireDefault(require(\"./Composer\"));\n\nvar _Day = _interopRequireDefault(require(\"./Day\"));\n\nvar _InputToolbar = _interopRequireDefault(require(\"./InputToolbar\"));\n\nvar _LoadEarlier = _interopRequireDefault(require(\"./LoadEarlier\"));\n\nvar _Message = _interopRequireDefault(require(\"./Message\"));\n\nvar _MessageContainer = _interopRequireDefault(require(\"./MessageContainer\"));\n\nvar _Send = _interopRequireDefault(require(\"./Send\"));\n\nvar _Time = _interopRequireDefault(require(\"./Time\"));\n\nvar _GiftedAvatar = _interopRequireDefault(require(\"./GiftedAvatar\"));\n\nvar _Constant = require(\"./Constant\");\n\nvar _jsxFileName = \"/Users/shraygrover/final-project-tech-bros/_chatle/node_modules/react-native-gifted-chat/lib/GiftedChat.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n_dayjs.default.extend(_localizedFormat.default);\n\nvar GiftedChat = function (_React$Component) {\n  (0, _inherits2.default)(GiftedChat, _React$Component);\n\n  var _super = _createSuper(GiftedChat);\n\n  function GiftedChat(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, GiftedChat);\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this._keyboardHeight = 0;\n    _this._bottomOffset = 0;\n    _this._maxHeight = undefined;\n    _this._isFirstLayout = true;\n    _this._locale = 'en';\n    _this.invertibleScrollViewProps = undefined;\n    _this._actionSheetRef = undefined;\n    _this._messageContainerRef = _react.default.createRef();\n    _this.state = {\n      isInitialized: false,\n      composerHeight: _this.props.minComposerHeight,\n      messagesContainerHeight: undefined,\n      typingDisabled: false,\n      text: undefined,\n      messages: undefined\n    };\n\n    _this.getLocale = function () {\n      return _this._locale;\n    };\n\n    _this.safeAreaSupport = function (bottomOffset) {\n      return bottomOffset === _this._bottomOffset ? _this.getBottomOffset() ? _this.getBottomOffset() : (0, _reactNativeIphoneXHelper.getBottomSpace)() : bottomOffset;\n    };\n\n    _this.onKeyboardWillShow = function (e) {\n      if (_this.props.isKeyboardInternallyHandled) {\n        _this.setIsTypingDisabled(true);\n\n        _this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n\n        _this.setBottomOffset(_this.safeAreaSupport(_this.props.bottomOffset));\n\n        var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard();\n\n        _this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    };\n\n    _this.onKeyboardWillHide = function (_e) {\n      if (_this.props.isKeyboardInternallyHandled) {\n        _this.setIsTypingDisabled(true);\n\n        _this.setKeyboardHeight(0);\n\n        _this.setBottomOffset(0);\n\n        var newMessagesContainerHeight = _this.getBasicMessagesContainerHeight();\n\n        _this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    };\n\n    _this.onKeyboardDidShow = function (e) {\n      if (_reactNative.Platform.OS === 'android') {\n        _this.onKeyboardWillShow(e);\n      }\n\n      _this.setIsTypingDisabled(false);\n    };\n\n    _this.onKeyboardDidHide = function (e) {\n      if (_reactNative.Platform.OS === 'android') {\n        _this.onKeyboardWillHide(e);\n      }\n\n      _this.setIsTypingDisabled(false);\n    };\n\n    _this.onSend = function () {\n      var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var shouldResetInputToolbar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      var newMessages = messages.map(function (message) {\n        return _objectSpread(_objectSpread({}, message), {}, {\n          user: _this.props.user,\n          createdAt: new Date(),\n          _id: _this.props.messageIdGenerator && _this.props.messageIdGenerator()\n        });\n      });\n\n      if (shouldResetInputToolbar === true) {\n        _this.setIsTypingDisabled(true);\n\n        _this.resetInputToolbar();\n      }\n\n      if (_this.props.onSend) {\n        _this.props.onSend(newMessages);\n      }\n\n      if (shouldResetInputToolbar === true) {\n        setTimeout(function () {\n          if (_this.getIsMounted() === true) {\n            _this.setIsTypingDisabled(false);\n          }\n        }, 100);\n      }\n    };\n\n    _this.onInputSizeChanged = function (size) {\n      var newComposerHeight = Math.max(_this.props.minComposerHeight, Math.min(_this.props.maxComposerHeight, size.height));\n\n      var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n\n      _this.setState({\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    };\n\n    _this.onInputTextChanged = function (text) {\n      if (_this.getIsTypingDisabled()) {\n        return;\n      }\n\n      if (_this.props.onInputTextChanged) {\n        _this.props.onInputTextChanged(text);\n      }\n\n      if (_this.props.text === undefined) {\n        _this.setState({\n          text: text\n        });\n      }\n    };\n\n    _this.onInitialLayoutViewLayout = function (e) {\n      var layout = e.nativeEvent.layout;\n\n      if (layout.height <= 0) {\n        return;\n      }\n\n      _this.notifyInputTextReset();\n\n      _this.setMaxHeight(layout.height);\n\n      var newComposerHeight = _this.props.minComposerHeight;\n\n      var newMessagesContainerHeight = _this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n\n      var initialText = _this.props.initialText || '';\n\n      _this.setState({\n        isInitialized: true,\n        text: _this.getTextFromProp(initialText),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    };\n\n    _this.onMainViewLayout = function (e) {\n      var layout = e.nativeEvent.layout;\n\n      if (_this.getMaxHeight() !== layout.height || _this.getIsFirstLayout() === true) {\n        _this.setMaxHeight(layout.height);\n\n        _this.setState({\n          messagesContainerHeight: _this._keyboardHeight > 0 ? _this.getMessagesContainerHeightWithKeyboard() : _this.getBasicMessagesContainerHeight()\n        });\n      }\n\n      if (_this.getIsFirstLayout() === true) {\n        _this.setIsFirstLayout(false);\n      }\n    };\n\n    _this.invertibleScrollViewProps = {\n      inverted: false,\n      keyboardShouldPersistTaps: _this.props.keyboardShouldPersistTaps,\n      onKeyboardWillShow: _this.onKeyboardWillShow,\n      onKeyboardWillHide: _this.onKeyboardWillHide,\n      onKeyboardDidShow: _this.onKeyboardDidShow,\n      onKeyboardDidHide: _this.onKeyboardDidHide\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(GiftedChat, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        actionSheet: this.props.actionSheet || function () {\n          return _this2._actionSheetRef.getContext();\n        },\n        getLocale: this.getLocale\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          messages = _this$props.messages,\n          text = _this$props.text;\n      this.setIsMounted(true);\n      this.initLocale();\n      this.setMessages(messages || []);\n      this.setTextFromProp(text);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setIsMounted(false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      var prevProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$props2 = this.props,\n          messages = _this$props2.messages,\n          text = _this$props2.text,\n          inverted = _this$props2.inverted;\n\n      if (this.props !== prevProps) {\n        this.setMessages(messages || []);\n      }\n\n      if (inverted === false && messages && prevProps.messages && messages.length !== prevProps.messages.length) {\n        setTimeout(function () {\n          return _this3.scrollToBottom(false);\n        }, 200);\n      }\n\n      if (text !== prevProps.text) {\n        this.setTextFromProp(text);\n      }\n    }\n  }, {\n    key: \"initLocale\",\n    value: function initLocale() {\n      if (this.props.locale === null) {\n        this.setLocale('en');\n      } else {\n        this.setLocale(this.props.locale || 'en');\n      }\n    }\n  }, {\n    key: \"setLocale\",\n    value: function setLocale(locale) {\n      this._locale = locale;\n    }\n  }, {\n    key: \"setTextFromProp\",\n    value: function setTextFromProp(textProp) {\n      if (textProp !== undefined && textProp !== this.state.text) {\n        this.setState({\n          text: textProp\n        });\n      }\n    }\n  }, {\n    key: \"getTextFromProp\",\n    value: function getTextFromProp(fallback) {\n      if (this.props.text === undefined) {\n        return fallback;\n      }\n\n      return this.props.text;\n    }\n  }, {\n    key: \"setMessages\",\n    value: function setMessages(messages) {\n      this.setState({\n        messages: messages\n      });\n    }\n  }, {\n    key: \"getMessages\",\n    value: function getMessages() {\n      return this.state.messages;\n    }\n  }, {\n    key: \"setMaxHeight\",\n    value: function setMaxHeight(height) {\n      this._maxHeight = height;\n    }\n  }, {\n    key: \"getMaxHeight\",\n    value: function getMaxHeight() {\n      return this._maxHeight;\n    }\n  }, {\n    key: \"setKeyboardHeight\",\n    value: function setKeyboardHeight(height) {\n      this._keyboardHeight = height;\n    }\n  }, {\n    key: \"getKeyboardHeight\",\n    value: function getKeyboardHeight() {\n      if (_reactNative.Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n        return 0;\n      }\n\n      return this._keyboardHeight;\n    }\n  }, {\n    key: \"setBottomOffset\",\n    value: function setBottomOffset(value) {\n      this._bottomOffset = value;\n    }\n  }, {\n    key: \"getBottomOffset\",\n    value: function getBottomOffset() {\n      return this._bottomOffset;\n    }\n  }, {\n    key: \"setIsFirstLayout\",\n    value: function setIsFirstLayout(value) {\n      this._isFirstLayout = value;\n    }\n  }, {\n    key: \"getIsFirstLayout\",\n    value: function getIsFirstLayout() {\n      return this._isFirstLayout;\n    }\n  }, {\n    key: \"setIsTypingDisabled\",\n    value: function setIsTypingDisabled(value) {\n      this.setState({\n        typingDisabled: value\n      });\n    }\n  }, {\n    key: \"getIsTypingDisabled\",\n    value: function getIsTypingDisabled() {\n      return this.state.typingDisabled;\n    }\n  }, {\n    key: \"setIsMounted\",\n    value: function setIsMounted(value) {\n      this._isMounted = value;\n    }\n  }, {\n    key: \"getIsMounted\",\n    value: function getIsMounted() {\n      return this._isMounted;\n    }\n  }, {\n    key: \"getMinInputToolbarHeight\",\n    value: function getMinInputToolbarHeight() {\n      return this.props.renderAccessory ? this.props.minInputToolbarHeight * 2 : this.props.minInputToolbarHeight;\n    }\n  }, {\n    key: \"calculateInputToolbarHeight\",\n    value: function calculateInputToolbarHeight(composerHeight) {\n      return composerHeight + (this.getMinInputToolbarHeight() - this.props.minComposerHeight);\n    }\n  }, {\n    key: \"getBasicMessagesContainerHeight\",\n    value: function getBasicMessagesContainerHeight() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight);\n    }\n  }, {\n    key: \"getMessagesContainerHeightWithKeyboard\",\n    value: function getMessagesContainerHeightWithKeyboard() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getBasicMessagesContainerHeight(composerHeight) - this.getKeyboardHeight() + this.getBottomOffset();\n    }\n  }, {\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this._messageContainerRef && this._messageContainerRef.current) {\n        var inverted = this.props.inverted;\n\n        if (!inverted) {\n          this._messageContainerRef.current.scrollToEnd({\n            animated: animated\n          });\n        } else {\n          this._messageContainerRef.current.scrollToOffset({\n            offset: 0,\n            animated: animated\n          });\n        }\n      }\n    }\n  }, {\n    key: \"renderMessages\",\n    value: function renderMessages() {\n      var _this$props3 = this.props,\n          messagesContainerStyle = _this$props3.messagesContainerStyle,\n          messagesContainerProps = (0, _objectWithoutProperties2.default)(_this$props3, [\"messagesContainerStyle\"]);\n\n      var fragment = _react.default.createElement(_reactNative.View, {\n        style: [{\n          height: this.state.messagesContainerHeight\n        }, messagesContainerStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 27\n        }\n      }, _react.default.createElement(_MessageContainer.default, (0, _extends2.default)({}, messagesContainerProps, {\n        invertibleScrollViewProps: this.invertibleScrollViewProps,\n        messages: this.getMessages(),\n        forwardRef: this._messageContainerRef,\n        isTyping: this.props.isTyping,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 9\n        }\n      })), this.renderChatFooter());\n\n      return this.props.isKeyboardInternallyHandled ? _react.default.createElement(_reactNative.KeyboardAvoidingView, {\n        enabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 58\n        }\n      }, fragment) : fragment;\n    }\n  }, {\n    key: \"resetInputToolbar\",\n    value: function resetInputToolbar() {\n      if (this.textInput) {\n        this.textInput.clear();\n      }\n\n      this.notifyInputTextReset();\n      var newComposerHeight = this.props.minComposerHeight;\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      this.setState({\n        text: this.getTextFromProp(''),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: newMessagesContainerHeight\n      });\n    }\n  }, {\n    key: \"focusTextInput\",\n    value: function focusTextInput() {\n      if (this.textInput) {\n        this.textInput.focus();\n      }\n    }\n  }, {\n    key: \"notifyInputTextReset\",\n    value: function notifyInputTextReset() {\n      if (this.props.onInputTextChanged) {\n        this.props.onInputTextChanged('');\n      }\n    }\n  }, {\n    key: \"renderInputToolbar\",\n    value: function renderInputToolbar() {\n      var _this4 = this;\n\n      var inputToolbarProps = _objectSpread(_objectSpread({}, this.props), {}, {\n        text: this.getTextFromProp(this.state.text),\n        composerHeight: Math.max(this.props.minComposerHeight, this.state.composerHeight),\n        onSend: this.onSend,\n        onInputSizeChanged: this.onInputSizeChanged,\n        onTextChanged: this.onInputTextChanged,\n        textInputProps: _objectSpread(_objectSpread({}, this.props.textInputProps), {}, {\n          ref: function ref(textInput) {\n            return _this4.textInput = textInput;\n          },\n          maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength\n        })\n      });\n\n      if (this.props.renderInputToolbar) {\n        return this.props.renderInputToolbar(inputToolbarProps);\n      }\n\n      return _react.default.createElement(_InputToolbar.default, (0, _extends2.default)({}, inputToolbarProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 16\n        }\n      }));\n    }\n  }, {\n    key: \"renderChatFooter\",\n    value: function renderChatFooter() {\n      if (this.props.renderChatFooter) {\n        return this.props.renderChatFooter();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.props.renderLoading) {\n        return this.props.renderLoading();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (this.state.isInitialized === true) {\n        var wrapInSafeArea = this.props.wrapInSafeArea;\n        var Wrapper = wrapInSafeArea ? _reactNative.SafeAreaView : _reactNative.View;\n        return _react.default.createElement(Wrapper, {\n          style: styles.safeArea,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 21\n          }\n        }, _react.default.createElement(_reactNativeActionSheet.ActionSheetProvider, {\n          ref: function ref(component) {\n            return _this5._actionSheetRef = component;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 11\n          }\n        }, _react.default.createElement(_reactNative.View, {\n          style: styles.container,\n          onLayout: this.onMainViewLayout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }\n        }, this.renderMessages(), this.renderInputToolbar())));\n      }\n\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        onLayout: this.onInitialLayoutViewLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 17\n        }\n      }, this.renderLoading());\n    }\n  }], [{\n    key: \"append\",\n    value: function append() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\n    }\n  }]);\n  return GiftedChat;\n}(_react.default.Component);\n\nexports.GiftedChat = GiftedChat;\nGiftedChat.childContextTypes = {\n  actionSheet: _propTypes.default.func,\n  getLocale: _propTypes.default.func\n};\nGiftedChat.defaultProps = {\n  messages: [],\n  messagesContainerStyle: undefined,\n  text: undefined,\n  placeholder: _Constant.DEFAULT_PLACEHOLDER,\n  disableComposer: false,\n  messageIdGenerator: function messageIdGenerator() {\n    return _uuid.default.v4();\n  },\n  user: {},\n  onSend: function onSend() {},\n  locale: null,\n  timeFormat: _Constant.TIME_FORMAT,\n  dateFormat: _Constant.DATE_FORMAT,\n  loadEarlier: false,\n  onLoadEarlier: function onLoadEarlier() {},\n  isLoadingEarlier: false,\n  renderLoading: null,\n  renderLoadEarlier: null,\n  renderAvatar: undefined,\n  showUserAvatar: false,\n  actionSheet: null,\n  onPressAvatar: null,\n  onLongPressAvatar: null,\n  renderUsernameOnMessage: false,\n  renderAvatarOnTop: false,\n  renderBubble: null,\n  renderSystemMessage: null,\n  onLongPress: null,\n  renderMessage: null,\n  renderMessageText: null,\n  renderMessageImage: null,\n  imageProps: {},\n  videoProps: {},\n  audioProps: {},\n  lightboxProps: {},\n  textInputProps: {},\n  listViewProps: {},\n  renderCustomView: null,\n  isCustomViewBottom: false,\n  renderDay: null,\n  renderTime: null,\n  renderFooter: null,\n  renderChatEmpty: null,\n  renderChatFooter: null,\n  renderInputToolbar: null,\n  renderComposer: null,\n  renderActions: null,\n  renderSend: null,\n  renderAccessory: null,\n  isKeyboardInternallyHandled: true,\n  onPressActionButton: null,\n  bottomOffset: 0,\n  minInputToolbarHeight: 44,\n  keyboardShouldPersistTaps: _reactNative.Platform.select({\n    ios: 'never',\n    android: 'always',\n    default: 'never'\n  }),\n  onInputTextChanged: null,\n  maxInputLength: null,\n  forceGetKeyboardHeight: false,\n  inverted: true,\n  extraData: null,\n  minComposerHeight: _Constant.MIN_COMPOSER_HEIGHT,\n  maxComposerHeight: _Constant.MAX_COMPOSER_HEIGHT,\n  wrapInSafeArea: true\n};\nGiftedChat.propTypes = {\n  messages: _propTypes.default.arrayOf(_propTypes.default.object),\n  messagesContainerStyle: utils.StylePropType,\n  text: _propTypes.default.string,\n  initialText: _propTypes.default.string,\n  placeholder: _propTypes.default.string,\n  disableComposer: _propTypes.default.bool,\n  messageIdGenerator: _propTypes.default.func,\n  user: _propTypes.default.object,\n  onSend: _propTypes.default.func,\n  locale: _propTypes.default.string,\n  timeFormat: _propTypes.default.string,\n  dateFormat: _propTypes.default.string,\n  isKeyboardInternallyHandled: _propTypes.default.bool,\n  loadEarlier: _propTypes.default.bool,\n  onLoadEarlier: _propTypes.default.func,\n  isLoadingEarlier: _propTypes.default.bool,\n  renderLoading: _propTypes.default.func,\n  renderLoadEarlier: _propTypes.default.func,\n  renderAvatar: _propTypes.default.func,\n  showUserAvatar: _propTypes.default.bool,\n  actionSheet: _propTypes.default.func,\n  onPressAvatar: _propTypes.default.func,\n  onLongPressAvatar: _propTypes.default.func,\n  renderUsernameOnMessage: _propTypes.default.bool,\n  renderAvatarOnTop: _propTypes.default.bool,\n  isCustomViewBottom: _propTypes.default.bool,\n  renderBubble: _propTypes.default.func,\n  renderSystemMessage: _propTypes.default.func,\n  onLongPress: _propTypes.default.func,\n  renderMessage: _propTypes.default.func,\n  renderMessageText: _propTypes.default.func,\n  renderMessageImage: _propTypes.default.func,\n  imageProps: _propTypes.default.object,\n  videoProps: _propTypes.default.object,\n  audioProps: _propTypes.default.object,\n  lightboxProps: _propTypes.default.object,\n  renderCustomView: _propTypes.default.func,\n  renderDay: _propTypes.default.func,\n  renderTime: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderChatEmpty: _propTypes.default.func,\n  renderChatFooter: _propTypes.default.func,\n  renderInputToolbar: _propTypes.default.func,\n  renderComposer: _propTypes.default.func,\n  renderActions: _propTypes.default.func,\n  renderSend: _propTypes.default.func,\n  renderAccessory: _propTypes.default.func,\n  onPressActionButton: _propTypes.default.func,\n  bottomOffset: _propTypes.default.number,\n  minInputToolbarHeight: _propTypes.default.number,\n  listViewProps: _propTypes.default.object,\n  keyboardShouldPersistTaps: _propTypes.default.oneOf(['always', 'never', 'handled']),\n  onInputTextChanged: _propTypes.default.func,\n  maxInputLength: _propTypes.default.number,\n  forceGetKeyboardHeight: _propTypes.default.bool,\n  inverted: _propTypes.default.bool,\n  textInputProps: _propTypes.default.object,\n  extraData: _propTypes.default.object,\n  minComposerHeight: _propTypes.default.number,\n  maxComposerHeight: _propTypes.default.number,\n  alignTop: _propTypes.default.bool,\n  wrapInSafeArea: _propTypes.default.bool\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  safeArea: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["../src/GiftedChat.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAYA;;AAIA;;AACA;;AACA;;AACA;;AAEA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;AAUA,eAAM,MAAN,CAAa,wBAAb;;IAuKM,U;;;;;AA4LJ,sBAAY,KAAZ,EAA4C;AAAA;;AAAA;AAC1C,8BAAM,KAAN;AAtBF,UAAA,UAAA,GAAsB,KAAtB;AACA,UAAA,eAAA,GAA0B,CAA1B;AACA,UAAA,aAAA,GAAwB,CAAxB;AACA,UAAA,UAAA,GAAsB,SAAtB;AACA,UAAA,cAAA,GAA0B,IAA1B;AACA,UAAA,OAAA,GAAkB,IAAlB;AACA,UAAA,yBAAA,GAAiC,SAAjC;AACA,UAAA,eAAA,GAAuB,SAAvB;AAEA,UAAA,oBAAA,GAAuD,eAAM,SAAN,EAAvD;AAGA,UAAA,KAAA,GAAQ;AACN,MAAA,aAAa,EAAE,KADT;AAEN,MAAA,cAAc,EAAE,MAAK,KAAL,CAAW,iBAFrB;AAGN,MAAA,uBAAuB,EAAE,SAHnB;AAIN,MAAA,cAAc,EAAE,KAJV;AAKN,MAAA,IAAI,EAAE,SALA;AAMN,MAAA,QAAQ,EAAE;AANJ,KAAR;;AA2EA,UAAA,SAAA,GAAY;AAAA,aAAM,MAAK,OAAX;AAAA,KAAZ;;AAmHA,UAAA,eAAA,GAAkB,UAAC,YAAD,EAAyB;AACzC,aAAO,YAAY,KAAK,MAAK,aAAtB,GACH,MAAK,eAAL,KACE,MAAK,eAAL,EADF,GAEE,+CAHC,GAIH,YAJJ;AAKD,KAND;;AAQA,UAAA,kBAAA,GAAqB,UAAC,CAAD,EAAW;AAC9B,UAAI,MAAK,KAAL,CAAW,2BAAf,EAA4C;AAC1C,cAAK,mBAAL,CAAyB,IAAzB;;AACA,cAAK,iBAAL,CACE,CAAC,CAAC,cAAF,GAAmB,CAAC,CAAC,cAAF,CAAiB,MAApC,GAA6C,CAAC,CAAC,GAAF,CAAM,MADrD;;AAGA,cAAK,eAAL,CAAqB,MAAK,eAAL,CAAqB,MAAK,KAAL,CAAW,YAAhC,CAArB;;AACA,YAAM,0BAA0B,GAAG,MAAK,sCAAL,EAAnC;;AACA,cAAK,QAAL,CAAc;AACZ,UAAA,uBAAuB,EAAE;AADb,SAAd;AAGD;AACF,KAZD;;AAcA,UAAA,kBAAA,GAAqB,UAAC,EAAD,EAAY;AAC/B,UAAI,MAAK,KAAL,CAAW,2BAAf,EAA4C;AAC1C,cAAK,mBAAL,CAAyB,IAAzB;;AACA,cAAK,iBAAL,CAAuB,CAAvB;;AACA,cAAK,eAAL,CAAqB,CAArB;;AACA,YAAM,0BAA0B,GAAG,MAAK,+BAAL,EAAnC;;AACA,cAAK,QAAL,CAAc;AACZ,UAAA,uBAAuB,EAAE;AADb,SAAd;AAGD;AACF,KAVD;;AAYA,UAAA,iBAAA,GAAoB,UAAC,CAAD,EAAW;AAC7B,UAAI,sBAAS,EAAT,KAAgB,SAApB,EAA+B;AAC7B,cAAK,kBAAL,CAAwB,CAAxB;AACD;;AACD,YAAK,mBAAL,CAAyB,KAAzB;AACD,KALD;;AAOA,UAAA,iBAAA,GAAoB,UAAC,CAAD,EAAW;AAC7B,UAAI,sBAAS,EAAT,KAAgB,SAApB,EAA+B;AAC7B,cAAK,kBAAL,CAAwB,CAAxB;AACD;;AACD,YAAK,mBAAL,CAAyB,KAAzB;AACD,KALD;;AAkDA,UAAA,MAAA,GAAS,YAA+D;AAAA,UAA9D,QAA8D,uEAAvC,EAAuC;AAAA,UAAnC,uBAAmC,uEAAT,KAAS;;AACtE,UAAI,CAAC,KAAK,CAAC,OAAN,CAAc,QAAd,CAAL,EAA8B;AAC5B,QAAA,QAAQ,GAAG,CAAC,QAAD,CAAX;AACD;;AACD,UAAM,WAAW,GAAe,QAAQ,CAAC,GAAT,CAAa,UAAA,OAAO,EAAG;AACrD,+CACK,OADL;AAEE,UAAA,IAAI,EAAE,MAAK,KAAL,CAAW,IAFnB;AAGE,UAAA,SAAS,EAAE,IAAI,IAAJ,EAHb;AAIE,UAAA,GAAG,EAAE,MAAK,KAAL,CAAW,kBAAX,IAAiC,MAAK,KAAL,CAAW,kBAAX;AAJxC;AAMD,OAP+B,CAAhC;;AASA,UAAI,uBAAuB,KAAK,IAAhC,EAAsC;AACpC,cAAK,mBAAL,CAAyB,IAAzB;;AACA,cAAK,iBAAL;AACD;;AACD,UAAI,MAAK,KAAL,CAAW,MAAf,EAAuB;AACrB,cAAK,KAAL,CAAW,MAAX,CAAkB,WAAlB;AACD;;AAED,UAAI,uBAAuB,KAAK,IAAhC,EAAsC;AACpC,QAAA,UAAU,CAAC,YAAK;AACd,cAAI,MAAK,YAAL,OAAwB,IAA5B,EAAkC;AAChC,kBAAK,mBAAL,CAAyB,KAAzB;AACD;AACF,SAJS,EAIP,GAJO,CAAV;AAKD;AACF,KA5BD;;AAoDA,UAAA,kBAAA,GAAqB,UAAC,IAAD,EAA6B;AAChD,UAAM,iBAAiB,GAAG,IAAI,CAAC,GAAL,CACxB,MAAK,KAAL,CAAW,iBADa,EAExB,IAAI,CAAC,GAAL,CAAS,MAAK,KAAL,CAAW,iBAApB,EAAwC,IAAI,CAAC,MAA7C,CAFwB,CAA1B;;AAIA,UAAM,0BAA0B,GAAG,MAAK,sCAAL,CACjC,iBADiC,CAAnC;;AAGA,YAAK,QAAL,CAAc;AACZ,QAAA,cAAc,EAAE,iBADJ;AAEZ,QAAA,uBAAuB,EAAE;AAFb,OAAd;AAID,KAZD;;AAcA,UAAA,kBAAA,GAAqB,UAAC,IAAD,EAAiB;AACpC,UAAI,MAAK,mBAAL,EAAJ,EAAgC;AAC9B;AACD;;AACD,UAAI,MAAK,KAAL,CAAW,kBAAf,EAAmC;AACjC,cAAK,KAAL,CAAW,kBAAX,CAA8B,IAA9B;AACD;;AAED,UAAI,MAAK,KAAL,CAAW,IAAX,KAAoB,SAAxB,EAAmC;AACjC,cAAK,QAAL,CAAc;AAAE,UAAA,IAAI,EAAJ;AAAF,SAAd;AACD;AACF,KAXD;;AAmBA,UAAA,yBAAA,GAA4B,UAAC,CAAD,EAAW;AAAA,UAC7B,MAD6B,GAClB,CAAC,CAAC,WADgB,CAC7B,MAD6B;;AAErC,UAAI,MAAM,CAAC,MAAP,IAAiB,CAArB,EAAwB;AACtB;AACD;;AACD,YAAK,oBAAL;;AACA,YAAK,YAAL,CAAkB,MAAM,CAAC,MAAzB;;AACA,UAAM,iBAAiB,GAAG,MAAK,KAAL,CAAW,iBAArC;;AACA,UAAM,0BAA0B,GAAG,MAAK,sCAAL,CACjC,iBADiC,CAAnC;;AAGA,UAAM,WAAW,GAAG,MAAK,KAAL,CAAW,WAAX,IAA0B,EAA9C;;AACA,YAAK,QAAL,CAAc;AACZ,QAAA,aAAa,EAAE,IADH;AAEZ,QAAA,IAAI,EAAE,MAAK,eAAL,CAAqB,WAArB,CAFM;AAGZ,QAAA,cAAc,EAAE,iBAHJ;AAIZ,QAAA,uBAAuB,EAAE;AAJb,OAAd;AAMD,KAlBD;;AAoBA,UAAA,gBAAA,GAAmB,UAAC,CAAD,EAAW;AAAA,UAEpB,MAFoB,GAET,CAAC,CAAC,WAFO,CAEpB,MAFoB;;AAG5B,UACE,MAAK,YAAL,OAAwB,MAAM,CAAC,MAA/B,IACA,MAAK,gBAAL,OAA4B,IAF9B,EAGE;AACA,cAAK,YAAL,CAAkB,MAAM,CAAC,MAAzB;;AACA,cAAK,QAAL,CAAc;AACZ,UAAA,uBAAuB,EACrB,MAAK,eAAL,GAAuB,CAAvB,GACI,MAAK,sCAAL,EADJ,GAEI,MAAK,+BAAL;AAJM,SAAd;AAMD;;AACD,UAAI,MAAK,gBAAL,OAA4B,IAAhC,EAAsC;AACpC,cAAK,gBAAL,CAAsB,KAAtB;AACD;AACF,KAlBD;;AAtXE,UAAK,yBAAL,GAAiC;AAC/B,MAAA,QAAQ,EAAE,KADqB;AAE/B,MAAA,yBAAyB,EAAE,MAAK,KAAL,CAAW,yBAFP;AAI/B,MAAA,kBAAkB,EAAE,MAAK,kBAJM;AAK/B,MAAA,kBAAiB,EAAE,MAAK,kBALO;AAM/B,MAAA,iBAAiB,EAAE,MAAK,iBANO;AAOhC,MAAA,iBAAA,EAAA,MAAA;AAPgC,KAAjC;AAH0C;AA/C5C;;;;sCA6DS;AAAA;;AACL,aAAA;AAEA,QAAA,WAAW,EAAA,KAAK,KAAL,CAAK,WAAL,IAAc;AAAA,iBAAA,MAAA,CAAA,eAAA,CAAA,UAAA,EAAA;AAAA,SAFzB;AAGD,QAAA,SAAA,EAAA,KAAA;AAHC,OAAA;AAMJ;;;wCACkB;AAAA,wBACO,KAAA,KADP;AAAA,UACX,QADW,eACX,QADW;AAAA,UACE,IADF,eACE,IADF;AAEhB,WAAK,YAAL,CAAiB,IAAjB;AACA,WAAK,UAAL;AACA,WAAK,WAAL,CAAK,QAAoB,IAAC,EAA1B;AACD,WAAA,eAAA,CAAA,IAAA;AAED;;;2CACoB;AACnB,WAAA,YAAA,CAAA,KAAA;AAED;;;yCAC0B;AAAA;;AAAA,UAAhB,SAAgB,uEAAA,EAAA;AAAA,yBAEM,KAAA,KAFN;AAAA,UAEhB,QAFgB,gBAEhB,QAFgB;AAAA,UAEV,IAFU,gBAEV,IAFU;AAAA,UAEL,QAFK,gBAEL,QAFK;;UAGtB,KAAK,KAAL,KAAK,S,EAAoB;AAC1B,aAAA,WAAA,CAAA,QAAA,IAAA,EAAA;AAED;;UAEE,QAAQ,KAAA,KAAR,IACA,QADA,IAEA,SAAS,CAAA,QAFT,IAIA,QAAA,CAAA,MAAA,KAAiB,SAAK,CAAA,QAAL,CAAoB,M,EAAQ;AAC9C,QAAA,UAAA,CAAA;AAAA,iBAAA,MAAA,CAAA,cAAA,CAAA,KAAA,CAAA;AAAA,SAAA,EAAA,GAAA,CAAA;AAED;;UACE,IAAI,KAAC,SAAA,CAAA,I,EAAoB;AAC1B,aAAA,eAAA,CAAA,IAAA;AACF;AAED;;;iCACW;UACP,KAAK,KAAL,CAAK,MAAL,KAAoB,I,EAAA;AACrB,aAAA,SAAA,CAAA,IAAA;AAAM,O,MACL;AACD,aAAA,SAAA,CAAA,KAAA,KAAA,CAAA,MAAA,IAAA,IAAA;AACF;AAED;;;8BACO,M,EAAO;AACb,WAAA,OAAA,GAAA,MAAA;AAID;;;oCACE,Q,EAAA;UAEE,QAAK,KAAQ,SAAb,IAAsB,QAAW,KAAA,KAAA,KAAA,CAAA,I,EAAA;AAClC,aAAA,QAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACF;AAED;;;oCACW,Q,EAAU;UACjB,KAAA,KAAA,CAAO,IAAP,KAAe,S,EAAA;AAChB,eAAA,QAAA;AACD;;AACD,aAAA,KAAA,KAAA,CAAA,IAAA;AAED;;;gCACO,Q,EAAW;AACjB,WAAA,QAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA;AAED;;;kCACS;AACR,aAAA,KAAA,KAAA,CAAA,QAAA;AAED;;;iCACO,M,EAAU;AAChB,WAAA,UAAA,GAAA,MAAA;AAED;;;mCACa;AACZ,aAAA,KAAA,UAAA;AAED;;;sCACO,M,EAAe;AACrB,WAAA,eAAA,GAAA,MAAA;AAED;;;wCACiB;UACb,sBAAA,EAAA,KAAA,SAAA,IAAA,CAAA,KAAA,KAAA,CAAA,sB,EAAA;AAID,eAAA,CAAA;AACD;;AACD,aAAA,KAAA,eAAA;AAED;;;oCACO,K,EAAa;AACnB,WAAA,aAAA,GAAA,KAAA;AAED;;;sCACc;AACb,aAAA,KAAA,aAAA;AAED;;;qCACO,K,EAAc;AACpB,WAAA,cAAA,GAAA,KAAA;AAED;;;uCACc;AACb,aAAA,KAAA,cAAA;AAED;;;wCACgB,K,EAAA;AACZ,WAAA,QAAA,CAAA;AACA,QAAA,cAAA,EAAA;AADA,OAAA;AAIJ;;;0CACoB;AACnB,aAAA,KAAA,KAAA,CAAA,cAAA;AAED;;;iCACO,K,EAAU;AAChB,WAAA,UAAA,GAAA,KAAA;AAED;;;mCACa;AACZ,aAAA,KAAA,UAAA;AAED;;;+CACoB;AAChB,aAAE,KAAK,KAAL,CAAW,eAAX,GACA,KAAK,KAAL,CAAW,qBAAX,GAAgC,CADhC,GAEL,KAAA,KAAA,CAAA,qBAFG;AAIJ;;;gDAEkB,c,EAAA;AACd,aAAC,cAAK,IAET,KAAA,wBAAA,KAAA,KAAA,KAAA,CAAA,iBAFS,CAAN;AAIJ;;;sDAK4D;AAAA,UAApC,cAAoC,uEAA5B,KAAA,KAAA,CAAA,cAA4B;AAE3D,aAAA,KAAA,YAAA,KAAA,KAAA,2BAAA,CAAA,cAAA,CAAA;AAED;;;6DAOwD;AAAA,UAA/C,cAA+C,uEAAf,KAAA,KAAA,CAAe,cAAA;AACpD,aAAI,KAAC,+BAAD,CAAoB,cAApB,IACJ,KAAK,iBAAL,EADI,GAGP,KAAA,eAAA,EAHG;AAqDJ;;;qCACW;AAAA,UAAA,QAAA,uEAAA,IAAA;;UACP,KAAA,oBAAA,IAA0B,KAAK,oBAAL,CAAK,O,EAAA;AAAA,YAC1B,QAD0B,GAChB,KAAA,KADgB,CAC1B,QAD0B;;YAE7B,CAAA,Q,EAAK;AACN,eAAA,oBAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AAAA,YAAA,QAAA,EAAA;AAAA,WAAA;AAAM,S,MACL;AACE,eAAA,oBAAA,CAAS,OAAT,CAAS,cAAT,CAAS;AACT,YAAA,MAAA,EAAQ,CADC;AAET,YAAA,QAAA,EAAA;AAFS,WAAT;AAIL;AACF;AAED;;;qCACU;AAAA,yBAGG,KAAA,KAHH;AAAA,UACF,sBADE,gBACF,sBADE;AAAA,UAGG,sBAHH;;AAIF,UAAA,QAAA,GAAA,6BAAA,iBAAA;AAAA,QAAA,KAAA,EAAA,CACE;AACD,UAAA,MAAA,EAAA,KAAA,KAAA,CAAA;AADC,SADF,EAMF,sBANE,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAaF,6BAAC,yBAAD,6BAAsB,sBAAtB;AACF,QAAA,yBAAA,EAAA,KAAA,yBADE;AACF,QAAA,QAAA,EAAA,KAAA,WAAA,EADE;AACF,QAAA,UAAA,EAAA,KAAA,oBADE;AACF,QAAA,QAAA,EAAA,KAAA,KAAA,CAAA,QADE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAbE,EAcF,KACH,gBADG,EAdE,CAAA;;AAsBP,aAAA,KAAA,KAAA,CAAA,2BAAA,GAAA,6BAAA,iCAAA;AAAA,QAAA,OAAA,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,QAAA,CAAA,GAAA,QAAA;AAgCD;;;wCACW;UACP,KAAK,S,EAAU;AAChB,aAAA,SAAA,CAAA,KAAA;AACD;;AACA,WAAA,oBAAA;AACA,UAAM,iBAAA,GAAA,KAAA,KAAA,CAA6B,iBAAnC;AAGA,UAAK,0BAAS,GAAA,KAAA,sCAAA,CAAA,iBAAA,CAAd;AACE,WAAA,QAAA,CAAU;AACV,QAAA,IAAA,EAAA,KAAA,eAAA,CAAgB,EAAhB,CADU;AAEV,QAAA,cAAA,EAAA,iBAFU;AAGV,QAAA,uBAAA,EAAA;AAHU,OAAV;AAMJ;;;qCACW;UACP,KAAK,S,EAAU;AAChB,aAAA,SAAA,CAAA,KAAA;AACF;AA6BD;;;2CACiB;UACb,KAAK,KAAL,CAAW,kB,EAAmB;AAC/B,aAAA,KAAA,CAAA,kBAAA,CAAA,EAAA;AACF;AA0CD;;;yCACQ;AAAA;;AACJ,UAAA,iBAAa,mCACb,KAAM,KADO;AAEb,QAAA,IAAA,EAAA,KAAA,eAAA,CACE,KAAK,KAAL,CAAW,IADb,CAFa;AAMb,QAAA,cAAa,EAAA,IAAM,CAAA,GAAN,CAAM,KAAA,KAAA,CAAA,iBAAN,EAAM,KAAA,KAAA,CAAA,cAAN,CANA;AAOb,QAAA,MAAA,EAAA,KAAA,MAPa;AAQb,QAAA,kBAAe,EAAK,KAAA,kBARP;AASb,QAAA,aAAA,EAAc,KAAE,kBATH;AAUX,QAAA,cAAQ,kCACL,KAAG,KAAH,CAAG,cADE;AAER,UAAA,GAAA,EAAA,aAAA,SAAA;AAAA,mBAAgB,MAAA,CAAA,SAAA,GAAsB,SAAtC;AAAA,WAFQ;AAGT,UAAA,SAAA,EAAA,KAAA,mBAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA;AAHS;AAVG,QAAb;;UAgBA,KAAA,KAAA,CAAW,kB,EAAO;AACnB,eAAA,KAAA,KAAA,CAAA,kBAAA,CAAA,iBAAA,CAAA;AACD;;AACD,aAAA,6BAAA,qBAAA,6BAAA,iBAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;AAED;;;uCACiB;UACb,KAAA,KAAA,CAAW,gB,EAAO;AACnB,eAAA,KAAA,KAAA,CAAA,gBAAA,EAAA;AACD;;AACD,aAAA,IAAA;AAED;;;oCACW;UACP,KAAA,KAAA,CAAW,a,EAAO;AACnB,eAAA,KAAA,KAAA,CAAA,aAAA,EAAA;AACD;;AACD,aAAA,IAAA;AAED;;;6BACM;AAAA;;UACF,KAAA,KAAA,CAAQ,aAAR,KAA2B,I,EAAK;AAAA,YAC1B,cAD0B,GAChB,KAAgB,KADA,CAC1B,cAD0B;AAGhC,YAAA,OACG,GAAO,cAAc,GAAC,yBAAD,GACpB,iBAFJ;AAEK,eAAA,6BAAA,OAAA;AAAA,UAAA,KACI,EAAE,MAAC,CAAA,QADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,W,6BAGC,2C;AAAmB,UAAA,GAAC,EAAA,aAAA,SAAA;AAAA,mBAAoB,MAAC,CAAI,eAAL,GAAuB,SAA3C;AAAA,W;;;;;;wCAClB,iB;AAAC,UAAA,KAAK,EAAA,MAAA,CAAA,S;AACN,UAAA,QAAA,EAAA,KAAA,gB;;;;;;WAAC,KAAK,cAAL,E,EACD,KACJ,kBADI,E,EANH,CAAA;AAWP;;AAEI,aAAM,6BAAA,iBAAA;AAAA,QAAA,KAAa,EAAE,MACvB,CAAA,SADQ;AACR,QAAA,QAAA,EAAA,KAAA,yBADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN,KACH,aADG,EADM,CAAN;;;;6BAhf0B;AAAA,UAApB,eAAoB,uEAAF,EAAE;AAAA,UAAA,QAAA;AAAA,UAAA,QAAA,uEAAA,IAAA;;UAC5B,CAAA,KAAA,CAAA,OAAA,CAAY,QAAZ,C,EAAqB;AACtB,QAAA,QAAA,GAAA,CAAA,QAAA,CAAA;AACD;;AACE,aAAE,QAAS,GACT,QAAA,CAAA,MAAA,CAAgB,eAAhB,CADS,GAEd,eAAA,CAAA,MAAA,CAAA,QAAA,CAFG;AAIJ;;;8BAKgC;AAAA,UAAnB,eAAmB,uEAAF,EAAE;AAAA,UAAA,QAAA;AAAA,UAAA,QAAA,uEAAA,IAAA;;UAC5B,CAAA,KAAA,CAAA,OAAA,CAAY,QAAZ,C,EAAqB;AACtB,QAAA,QAAA,GAAA,CAAA,QAAA,CAAA;AACD;;AACE,aAAE,QAAA,GACA,eAAe,CAAC,MAAhB,CAAgB,QAAhB,CADA,GAEL,QAAA,CAAA,MAAA,CAAA,eAAA,CAFG;AAsCJ;;;EAzM6D,eAAM,S;;;AAKjE,UAAA,CAAA,iBAAA,GAA2B;AAC3B,EAAA,WAAW,EAAA,mBAAU,IADM;AAE5B,EAAA,SAAA,EAAA,mBAAA;AAF4B,CAA3B;AAKA,UAAA,CAAA,YAAA,GAAY;AACZ,EAAA,QAAA,EAAA,EADY;AAEZ,EAAA,sBAAe,EAAA,SAFH;AAGZ,EAAA,IAAA,EAAA,SAHY;AAIZ,EAAA,WAAA,EAAA,6BAJY;AAKZ,EAAA,eAAA,EAAA,KALY;AAMZ,EAAA,kBAAQ,EAAA;AAAA,WAAA,cAAA,EAAA,EAAA;AAAA,GANI;AAOZ,EAAA,IAAA,EAAM,EAPM;AAQZ,EAAA,MAAM,EAAE,kBAAI,CAAA,CARA;AASZ,EAAA,MAAA,EAAA,IATY;AAUZ,EAAA,UAAU,EAAE,qBAVA;AAWZ,EAAA,UAAA,EAAW,qBAXC;AAYZ,EAAA,WAAA,EAAa,KAZD;AAaZ,EAAA,aAAA,EAAA,yBAAkB,CAAK,CAbX;AAcZ,EAAA,gBAAe,EAAA,KAdH;AAeZ,EAAA,aAAA,EAAA,IAfY;AAgBZ,EAAA,iBAAc,EAAA,IAhBF;AAiBZ,EAAA,YAAA,EAAc,SAjBF;AAkBZ,EAAA,cAAa,EAAA,KAlBD;AAmBZ,EAAA,WAAA,EAAa,IAnBD;AAoBZ,EAAA,aAAA,EAAA,IApBY;AAqBZ,EAAA,iBAAA,EAAA,IArBY;AAsBZ,EAAA,uBAAmB,EAAK,KAtBZ;AAuBZ,EAAA,iBAAc,EAAI,KAvBN;AAwBZ,EAAA,YAAA,EAAA,IAxBY;AAyBZ,EAAA,mBAAiB,EAAA,IAzBL;AA0BZ,EAAA,WAAA,EAAa,IA1BD;AA2BZ,EAAA,aAAA,EAAA,IA3BY;AA4BZ,EAAA,iBAAA,EAAkB,IA5BN;AA6BZ,EAAA,kBAAc,EAAA,IA7BF;AA8BZ,EAAA,UAAU,EAAE,EA9BA;AA+BZ,EAAA,UAAU,EAAE,EA/BA;AAgCZ,EAAA,UAAA,EAAA,EAhCY;AAiCZ,EAAA,aAAA,EAAc,EAjCF;AAkCZ,EAAA,cAAa,EAAE,EAlCH;AAmCZ,EAAA,aAAA,EAAA,EAnCY;AAoCZ,EAAA,gBAAA,EAAkB,IApCN;AAqCZ,EAAA,kBAAe,EAAA,KArCH;AAsCZ,EAAA,SAAA,EAAU,IAtCE;AAuCZ,EAAA,UAAA,EAAY,IAvCA;AAwCZ,EAAA,YAAA,EAAA,IAxCY;AAyCZ,EAAA,eAAA,EAAgB,IAzCJ;AA0CZ,EAAA,gBAAA,EAAkB,IA1CN;AA2CZ,EAAA,kBAAgB,EAAI,IA3CR;AA4CZ,EAAA,cAAa,EAAE,IA5CH;AA6CZ,EAAA,aAAY,EAAA,IA7CA;AA8CZ,EAAA,UAAA,EAAA,IA9CY;AA+CZ,EAAA,eAAA,EAAA,IA/CY;AAgDZ,EAAA,2BAAyB,EAAA,IAhDb;AAiDZ,EAAA,mBAAe,EAAA,IAjDH;AAkDZ,EAAA,YAAA,EAAA,CAlDY;AAmDZ,EAAA,qBAAA,EAAA,EAnDY;AAoDV,EAAA,yBAAY,EAAA,sBAAA,MAAA,CAAA;AACZ,IAAA,GAAA,EAAA,OADY;AAEZ,IAAA,OAAO,EAAE,QAFG;AAGZ,IAAA,OAAA,EAAA;AAHY,GAAA,CApDF;AAyDZ,EAAA,kBAAgB,EAAI,IAzDR;AA0DZ,EAAA,cAAA,EAAA,IA1DY;AA2DZ,EAAA,sBAAc,EAAA,KA3DF;AA4DZ,EAAA,QAAA,EAAS,IA5DG;AA6DZ,EAAA,SAAA,EAAA,IA7DY;AA8DZ,EAAA,iBAAiB,EAAE,6BA9DP;AA+DZ,EAAA,iBAAgB,EAAA,6BA/DJ;AAgEb,EAAA,cAAA,EAAA;AAhEa,CAAZ;AAmEA,UAAA,CAAA,SAAA,GAAmB;AACnB,EAAA,QAAA,EAAA,mBAAA,OAAA,CAAwB,mBAAM,MAA9B,CADmB;AAEnB,EAAA,sBAAsB,EAAA,KAAA,CAAA,aAFH;AAGnB,EAAA,IAAA,EAAA,mBAAa,MAHM;AAInB,EAAA,WAAW,EAAE,mBAAU,MAJJ;AAKnB,EAAA,WAAA,EAAA,mBAAiB,MALE;AAMnB,EAAA,eAAA,EAAA,mBAAoB,IAND;AAOnB,EAAA,kBAAgB,EAAA,mBAAM,IAPH;AAQnB,EAAA,IAAA,EAAM,mBAAE,MARW;AASnB,EAAA,MAAM,EAAE,mBAAU,IATC;AAUnB,EAAA,MAAA,EAAA,mBAAY,MAVO;AAWnB,EAAA,UAAU,EAAE,mBAAU,MAXH;AAYnB,EAAA,UAAA,EAAA,mBAAA,MAZmB;AAanB,EAAA,2BAA2B,EAAA,mBAAA,IAbR;AAcnB,EAAA,WAAA,EAAa,mBAAE,IAdI;AAenB,EAAA,aAAA,EAAA,mBAAkB,IAfC;AAgBnB,EAAA,gBAAe,EAAA,mBAAU,IAhBN;AAiBnB,EAAA,aAAA,EAAA,mBAAmB,IAjBA;AAkBnB,EAAA,iBAAc,EAAA,mBAAc,IAlBT;AAmBnB,EAAA,YAAA,EAAc,mBAAE,IAnBG;AAoBnB,EAAA,cAAa,EAAA,mBAAU,IApBJ;AAqBnB,EAAA,WAAA,EAAa,mBAAE,IArBI;AAsBnB,EAAA,aAAA,EAAA,mBAAmB,IAtBA;AAuBnB,EAAA,iBAAA,EAAA,mBAAyB,IAvBN;AAwBnB,EAAA,uBAAmB,EAAA,mBAAc,IAxBd;AAyBnB,EAAA,iBAAA,EAAkB,mBAAW,IAzBV;AA0BnB,EAAA,kBAAc,EAAA,mBAAc,IA1BT;AA2BnB,EAAA,YAAA,EAAA,mBAAqB,IA3BF;AA4BnB,EAAA,mBAAa,EAAA,mBAAc,IA5BR;AA6BnB,EAAA,WAAA,EAAa,mBAAE,IA7BI;AA8BnB,EAAA,aAAA,EAAA,mBAAmB,IA9BA;AA+BnB,EAAA,iBAAA,EAAkB,mBAAW,IA/BV;AAgCnB,EAAA,kBAAY,EAAA,mBAAgB,IAhCT;AAiCnB,EAAA,UAAU,EAAE,mBAAU,MAjCH;AAkCnB,EAAA,UAAU,EAAE,mBAAU,MAlCH;AAmCnB,EAAA,UAAA,EAAA,mBAAe,MAnCI;AAoCnB,EAAA,aAAA,EAAA,mBAAkB,MApCC;AAqCnB,EAAA,gBAAW,EAAA,mBAAc,IArCN;AAsCnB,EAAA,SAAA,EAAU,mBAAW,IAtCF;AAuCnB,EAAA,UAAA,EAAY,mBAAE,IAvCK;AAwCnB,EAAA,YAAA,EAAA,mBAAiB,IAxCE;AAyCnB,EAAA,eAAA,EAAgB,mBAAW,IAzCR;AA0CnB,EAAA,gBAAA,EAAkB,mBAAE,IA1CD;AA2CnB,EAAA,kBAAgB,EAAA,mBAAc,IA3CX;AA4CnB,EAAA,cAAa,EAAE,mBAAU,IA5CN;AA6CnB,EAAA,aAAY,EAAA,mBAAU,IA7CH;AA8CnB,EAAA,UAAA,EAAA,mBAAiB,IA9CE;AA+CnB,EAAA,eAAA,EAAA,mBAAqB,IA/CF;AAgDnB,EAAA,mBAAc,EAAA,mBAAgB,IAhDX;AAiDnB,EAAA,YAAA,EAAA,mBAAuB,MAjDJ;AAkDnB,EAAA,qBAAe,EAAA,mBAAgB,MAlDZ;AAmDnB,EAAA,aAAA,EAAA,mBAAyB,MAnDN;AAoDnB,EAAA,yBAAoB,EAAA,mBAAc,KAAd,CAAc,CAAA,QAAA,EAAA,OAAA,EAAA,SAAA,CAAd,CApDD;AAqDnB,EAAA,kBAAgB,EAAA,mBAAU,IArDP;AAsDnB,EAAA,cAAA,EAAA,mBAAwB,MAtDL;AAuDnB,EAAA,sBAAoB,EAAI,mBAAA,IAvDL;AAwDnB,EAAA,QAAA,EAAA,mBAAgB,IAxDG;AAyDnB,EAAA,cAAW,EAAA,mBAAU,MAzDF;AA0DnB,EAAA,SAAA,EAAA,mBAAmB,MA1DA;AA2DnB,EAAA,iBAAiB,EAAE,mBAAU,MA3DV;AA4DnB,EAAA,iBAAU,EAAS,mBAAK,MA5DL;AA6DnB,EAAA,QAAA,EAAA,mBAAgB,IA7DG;AA8DpB,EAAA,cAAA,EAAA,mBAAA;AA9DoB,CAAnB;;AA4jBF,IAAA,MAAA,GAAW,wBAAA,MAAA,CAAA;AACT,EAAA,SAAI,EAAG;AACR,IAAA,IAAA,EAAA;AADQ,GADE;AAIT,EAAA,QAAI,EAAE;AACP,IAAA,IAAA,EAAA;AADO;AAJG,CAAA,CAAX","sourceRoot":"","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Platform, StyleSheet, View, SafeAreaView, KeyboardAvoidingView, } from 'react-native';\nimport { ActionSheetProvider, } from '@expo/react-native-action-sheet';\nimport uuid from 'uuid';\nimport { getBottomSpace } from 'react-native-iphone-x-helper';\nimport dayjs from 'dayjs';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport * as utils from './utils';\nimport Actions from './Actions';\nimport Avatar from './Avatar';\nimport Bubble from './Bubble';\nimport SystemMessage from './SystemMessage';\nimport MessageImage from './MessageImage';\nimport MessageText from './MessageText';\nimport Composer from './Composer';\nimport Day from './Day';\nimport InputToolbar from './InputToolbar';\nimport LoadEarlier from './LoadEarlier';\nimport Message from './Message';\nimport MessageContainer from './MessageContainer';\nimport Send from './Send';\nimport Time from './Time';\nimport GiftedAvatar from './GiftedAvatar';\nimport { MIN_COMPOSER_HEIGHT, MAX_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER, TIME_FORMAT, DATE_FORMAT, } from './Constant';\ndayjs.extend(localizedFormat);\nclass GiftedChat extends React.Component {\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this._keyboardHeight = 0;\n        this._bottomOffset = 0;\n        this._maxHeight = undefined;\n        this._isFirstLayout = true;\n        this._locale = 'en';\n        this.invertibleScrollViewProps = undefined;\n        this._actionSheetRef = undefined;\n        this._messageContainerRef = React.createRef();\n        this.state = {\n            isInitialized: false,\n            composerHeight: this.props.minComposerHeight,\n            messagesContainerHeight: undefined,\n            typingDisabled: false,\n            text: undefined,\n            messages: undefined,\n        };\n        this.getLocale = () => this._locale;\n        this.safeAreaSupport = (bottomOffset) => {\n            return bottomOffset === this._bottomOffset\n                ? this.getBottomOffset()\n                    ? this.getBottomOffset()\n                    : getBottomSpace()\n                : bottomOffset;\n        };\n        this.onKeyboardWillShow = (e) => {\n            if (this.props.isKeyboardInternallyHandled) {\n                this.setIsTypingDisabled(true);\n                this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n                this.setBottomOffset(this.safeAreaSupport(this.props.bottomOffset));\n                const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard();\n                this.setState({\n                    messagesContainerHeight: newMessagesContainerHeight,\n                });\n            }\n        };\n        this.onKeyboardWillHide = (_e) => {\n            if (this.props.isKeyboardInternallyHandled) {\n                this.setIsTypingDisabled(true);\n                this.setKeyboardHeight(0);\n                this.setBottomOffset(0);\n                const newMessagesContainerHeight = this.getBasicMessagesContainerHeight();\n                this.setState({\n                    messagesContainerHeight: newMessagesContainerHeight,\n                });\n            }\n        };\n        this.onKeyboardDidShow = (e) => {\n            if (Platform.OS === 'android') {\n                this.onKeyboardWillShow(e);\n            }\n            this.setIsTypingDisabled(false);\n        };\n        this.onKeyboardDidHide = (e) => {\n            if (Platform.OS === 'android') {\n                this.onKeyboardWillHide(e);\n            }\n            this.setIsTypingDisabled(false);\n        };\n        this.onSend = (messages = [], shouldResetInputToolbar = false) => {\n            if (!Array.isArray(messages)) {\n                messages = [messages];\n            }\n            const newMessages = messages.map(message => {\n                return {\n                    ...message,\n                    user: this.props.user,\n                    createdAt: new Date(),\n                    _id: this.props.messageIdGenerator && this.props.messageIdGenerator(),\n                };\n            });\n            if (shouldResetInputToolbar === true) {\n                this.setIsTypingDisabled(true);\n                this.resetInputToolbar();\n            }\n            if (this.props.onSend) {\n                this.props.onSend(newMessages);\n            }\n            if (shouldResetInputToolbar === true) {\n                setTimeout(() => {\n                    if (this.getIsMounted() === true) {\n                        this.setIsTypingDisabled(false);\n                    }\n                }, 100);\n            }\n        };\n        this.onInputSizeChanged = (size) => {\n            const newComposerHeight = Math.max(this.props.minComposerHeight, Math.min(this.props.maxComposerHeight, size.height));\n            const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n            this.setState({\n                composerHeight: newComposerHeight,\n                messagesContainerHeight: newMessagesContainerHeight,\n            });\n        };\n        this.onInputTextChanged = (text) => {\n            if (this.getIsTypingDisabled()) {\n                return;\n            }\n            if (this.props.onInputTextChanged) {\n                this.props.onInputTextChanged(text);\n            }\n            // Only set state if it's not being overridden by a prop.\n            if (this.props.text === undefined) {\n                this.setState({ text });\n            }\n        };\n        this.onInitialLayoutViewLayout = (e) => {\n            const { layout } = e.nativeEvent;\n            if (layout.height <= 0) {\n                return;\n            }\n            this.notifyInputTextReset();\n            this.setMaxHeight(layout.height);\n            const newComposerHeight = this.props.minComposerHeight;\n            const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n            const initialText = this.props.initialText || '';\n            this.setState({\n                isInitialized: true,\n                text: this.getTextFromProp(initialText),\n                composerHeight: newComposerHeight,\n                messagesContainerHeight: newMessagesContainerHeight,\n            });\n        };\n        this.onMainViewLayout = (e) => {\n            // fix an issue when keyboard is dismissing during the initialization\n            const { layout } = e.nativeEvent;\n            if (this.getMaxHeight() !== layout.height ||\n                this.getIsFirstLayout() === true) {\n                this.setMaxHeight(layout.height);\n                this.setState({\n                    messagesContainerHeight: this._keyboardHeight > 0\n                        ? this.getMessagesContainerHeightWithKeyboard()\n                        : this.getBasicMessagesContainerHeight(),\n                });\n            }\n            if (this.getIsFirstLayout() === true) {\n                this.setIsFirstLayout(false);\n            }\n        };\n        this.invertibleScrollViewProps = {\n            inverted: false,\n            keyboardShouldPersistTaps: this.props.keyboardShouldPersistTaps,\n            \n            onKeyboardWillShow: this.onKeyboardWillShow,\n            onKeyboardWillHide: this.onKeyboardWillHide,\n            onKeyboardDidShow: this.onKeyboardDidShow,\n            onKeyboardDidHide: this.onKeyboardDidHide,\n        };\n    }\n    static append(currentMessages = [], messages, inverted = true) {\n        if (!Array.isArray(messages)) {\n            messages = [messages];\n        }\n        return inverted\n            ? messages.concat(currentMessages)\n            : currentMessages.concat(messages);\n    }\n    static prepend(currentMessages = [], messages, inverted = true) {\n        if (!Array.isArray(messages)) {\n            messages = [messages];\n        }\n        return inverted\n            ? currentMessages.concat(messages)\n            : messages.concat(currentMessages);\n    }\n    getChildContext() {\n        return {\n            actionSheet: this.props.actionSheet || (() => this._actionSheetRef.getContext()),\n            getLocale: this.getLocale,\n        };\n    }\n    componentDidMount() {\n        const { messages, text } = this.props;\n        this.setIsMounted(true);\n        this.initLocale();\n        this.setMessages(messages || []);\n        this.setTextFromProp(text);\n    }\n    componentWillUnmount() {\n        this.setIsMounted(false);\n    }\n    componentDidUpdate(prevProps = {}) {\n        const { messages, text, inverted } = this.props;\n        if (this.props !== prevProps) {\n            this.setMessages(messages || []);\n        }\n        if (inverted === false &&\n            messages &&\n            prevProps.messages &&\n            messages.length !== prevProps.messages.length) {\n            setTimeout(() => this.scrollToBottom(false), 200);\n        }\n        if (text !== prevProps.text) {\n            this.setTextFromProp(text);\n        }\n    }\n    initLocale() {\n        if (this.props.locale === null) {\n            this.setLocale('en');\n        }\n        else {\n            this.setLocale(this.props.locale || 'en');\n        }\n    }\n    setLocale(locale) {\n        this._locale = locale;\n    }\n    setTextFromProp(textProp) {\n        // Text prop takes precedence over state.\n        if (textProp !== undefined && textProp !== this.state.text) {\n            this.setState({ text: textProp });\n        }\n    }\n    getTextFromProp(fallback) {\n        if (this.props.text === undefined) {\n            return fallback;\n        }\n        return this.props.text;\n    }\n    setMessages(messages) {\n        this.setState({ messages });\n    }\n    getMessages() {\n        return this.state.messages;\n    }\n    setMaxHeight(height) {\n        this._maxHeight = height;\n    }\n    getMaxHeight() {\n        return this._maxHeight;\n    }\n    setKeyboardHeight(height) {\n        this._keyboardHeight = height;\n    }\n    getKeyboardHeight() {\n        if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n            // For android: on-screen keyboard resized main container and has own height.\n            // @see https://developer.android.com/training/keyboard-input/visibility.html\n            // So for calculate the messages container height ignore keyboard height.\n            return 0;\n        }\n        return this._keyboardHeight;\n    }\n    setBottomOffset(value) {\n        this._bottomOffset = value;\n    }\n    getBottomOffset() {\n        return this._bottomOffset;\n    }\n    setIsFirstLayout(value) {\n        this._isFirstLayout = value;\n    }\n    getIsFirstLayout() {\n        return this._isFirstLayout;\n    }\n    setIsTypingDisabled(value) {\n        this.setState({\n            typingDisabled: value,\n        });\n    }\n    getIsTypingDisabled() {\n        return this.state.typingDisabled;\n    }\n    setIsMounted(value) {\n        this._isMounted = value;\n    }\n    getIsMounted() {\n        return this._isMounted;\n    }\n    getMinInputToolbarHeight() {\n        return this.props.renderAccessory\n            ? this.props.minInputToolbarHeight * 2\n            : this.props.minInputToolbarHeight;\n    }\n    calculateInputToolbarHeight(composerHeight) {\n        return (composerHeight +\n            (this.getMinInputToolbarHeight() - this.props.minComposerHeight));\n    }\n    /**\n     * Returns the height, based on current window size, without taking the keyboard into account.\n     */\n    getBasicMessagesContainerHeight(composerHeight = this.state.composerHeight) {\n        return (this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight));\n    }\n    /**\n     * Returns the height, based on current window size, taking the keyboard into account.\n     */\n    getMessagesContainerHeightWithKeyboard(composerHeight = this.state.composerHeight) {\n        return (this.getBasicMessagesContainerHeight(composerHeight) -\n            this.getKeyboardHeight() +\n            this.getBottomOffset());\n    }\n    scrollToBottom(animated = true) {\n        if (this._messageContainerRef && this._messageContainerRef.current) {\n            const { inverted } = this.props;\n            if (!inverted) {\n                this._messageContainerRef.current.scrollToEnd({ animated });\n            }\n            else {\n                this._messageContainerRef.current.scrollToOffset({\n                    offset: 0,\n                    animated,\n                });\n            }\n        }\n    }\n    renderMessages() {\n        const { messagesContainerStyle, ...messagesContainerProps } = this.props;\n        const fragment = (<View style={[\n            {\n                height: this.state.messagesContainerHeight,\n            },\n            messagesContainerStyle,\n        ]}>\n        <MessageContainer {...messagesContainerProps} invertibleScrollViewProps={this.invertibleScrollViewProps} messages={this.getMessages()} forwardRef={this._messageContainerRef} isTyping={this.props.isTyping}/>\n        {this.renderChatFooter()}\n      </View>);\n        return this.props.isKeyboardInternallyHandled ? (<KeyboardAvoidingView enabled>{fragment}</KeyboardAvoidingView>) : (fragment);\n    }\n    resetInputToolbar() {\n        if (this.textInput) {\n            this.textInput.clear();\n        }\n        this.notifyInputTextReset();\n        const newComposerHeight = this.props.minComposerHeight;\n        const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n        this.setState({\n            text: this.getTextFromProp(''),\n            composerHeight: newComposerHeight,\n            messagesContainerHeight: newMessagesContainerHeight,\n        });\n    }\n    focusTextInput() {\n        if (this.textInput) {\n            this.textInput.focus();\n        }\n    }\n    notifyInputTextReset() {\n        if (this.props.onInputTextChanged) {\n            this.props.onInputTextChanged('');\n        }\n    }\n    renderInputToolbar() {\n        const inputToolbarProps = {\n            ...this.props,\n            text: this.getTextFromProp(this.state.text),\n            composerHeight: Math.max(this.props.minComposerHeight, this.state.composerHeight),\n            onSend: this.onSend,\n            onInputSizeChanged: this.onInputSizeChanged,\n            onTextChanged: this.onInputTextChanged,\n            textInputProps: {\n                ...this.props.textInputProps,\n                ref: (textInput) => (this.textInput = textInput),\n                maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\n            },\n        };\n        if (this.props.renderInputToolbar) {\n            return this.props.renderInputToolbar(inputToolbarProps);\n        }\n        return <InputToolbar {...inputToolbarProps}/>;\n    }\n    renderChatFooter() {\n        if (this.props.renderChatFooter) {\n            return this.props.renderChatFooter();\n        }\n        return null;\n    }\n    renderLoading() {\n        if (this.props.renderLoading) {\n            return this.props.renderLoading();\n        }\n        return null;\n    }\n    render() {\n        if (this.state.isInitialized === true) {\n            const { wrapInSafeArea } = this.props;\n            const Wrapper = wrapInSafeArea ? SafeAreaView : View;\n            return (<Wrapper style={styles.safeArea}>\n          <ActionSheetProvider ref={(component) => (this._actionSheetRef = component)}>\n            <View style={styles.container} onLayout={this.onMainViewLayout}>\n              {this.renderMessages()}\n              {this.renderInputToolbar()}\n            </View>\n          </ActionSheetProvider>\n        </Wrapper>);\n        }\n        return (<View style={styles.container} onLayout={this.onInitialLayoutViewLayout}>\n        {this.renderLoading()}\n      </View>);\n    }\n}\nGiftedChat.childContextTypes = {\n    actionSheet: PropTypes.func,\n    getLocale: PropTypes.func,\n};\nGiftedChat.defaultProps = {\n    messages: [],\n    messagesContainerStyle: undefined,\n    text: undefined,\n    placeholder: DEFAULT_PLACEHOLDER,\n    disableComposer: false,\n    messageIdGenerator: () => uuid.v4(),\n    user: {},\n    onSend: () => { },\n    locale: null,\n    timeFormat: TIME_FORMAT,\n    dateFormat: DATE_FORMAT,\n    loadEarlier: false,\n    onLoadEarlier: () => { },\n    isLoadingEarlier: false,\n    renderLoading: null,\n    renderLoadEarlier: null,\n    renderAvatar: undefined,\n    showUserAvatar: false,\n    actionSheet: null,\n    onPressAvatar: null,\n    onLongPressAvatar: null,\n    renderUsernameOnMessage: false,\n    renderAvatarOnTop: false,\n    renderBubble: null,\n    renderSystemMessage: null,\n    onLongPress: null,\n    renderMessage: null,\n    renderMessageText: null,\n    renderMessageImage: null,\n    imageProps: {},\n    videoProps: {},\n    audioProps: {},\n    lightboxProps: {},\n    textInputProps: {},\n    listViewProps: {},\n    renderCustomView: null,\n    isCustomViewBottom: false,\n    renderDay: null,\n    renderTime: null,\n    renderFooter: null,\n    renderChatEmpty: null,\n    renderChatFooter: null,\n    renderInputToolbar: null,\n    renderComposer: null,\n    renderActions: null,\n    renderSend: null,\n    renderAccessory: null,\n    isKeyboardInternallyHandled: true,\n    onPressActionButton: null,\n    bottomOffset: 0,\n    minInputToolbarHeight: 44,\n    keyboardShouldPersistTaps: Platform.select({\n        ios: 'never',\n        android: 'always',\n        default: 'never',\n    }),\n    onInputTextChanged: null,\n    maxInputLength: null,\n    forceGetKeyboardHeight: false,\n    inverted: true,\n    extraData: null,\n    minComposerHeight: MIN_COMPOSER_HEIGHT,\n    maxComposerHeight: MAX_COMPOSER_HEIGHT,\n    wrapInSafeArea: true,\n};\nGiftedChat.propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object),\n    messagesContainerStyle: utils.StylePropType,\n    text: PropTypes.string,\n    initialText: PropTypes.string,\n    placeholder: PropTypes.string,\n    disableComposer: PropTypes.bool,\n    messageIdGenerator: PropTypes.func,\n    user: PropTypes.object,\n    onSend: PropTypes.func,\n    locale: PropTypes.string,\n    timeFormat: PropTypes.string,\n    dateFormat: PropTypes.string,\n    isKeyboardInternallyHandled: PropTypes.bool,\n    loadEarlier: PropTypes.bool,\n    onLoadEarlier: PropTypes.func,\n    isLoadingEarlier: PropTypes.bool,\n    renderLoading: PropTypes.func,\n    renderLoadEarlier: PropTypes.func,\n    renderAvatar: PropTypes.func,\n    showUserAvatar: PropTypes.bool,\n    actionSheet: PropTypes.func,\n    onPressAvatar: PropTypes.func,\n    onLongPressAvatar: PropTypes.func,\n    renderUsernameOnMessage: PropTypes.bool,\n    renderAvatarOnTop: PropTypes.bool,\n    isCustomViewBottom: PropTypes.bool,\n    renderBubble: PropTypes.func,\n    renderSystemMessage: PropTypes.func,\n    onLongPress: PropTypes.func,\n    renderMessage: PropTypes.func,\n    renderMessageText: PropTypes.func,\n    renderMessageImage: PropTypes.func,\n    imageProps: PropTypes.object,\n    videoProps: PropTypes.object,\n    audioProps: PropTypes.object,\n    lightboxProps: PropTypes.object,\n    renderCustomView: PropTypes.func,\n    renderDay: PropTypes.func,\n    renderTime: PropTypes.func,\n    renderFooter: PropTypes.func,\n    renderChatEmpty: PropTypes.func,\n    renderChatFooter: PropTypes.func,\n    renderInputToolbar: PropTypes.func,\n    renderComposer: PropTypes.func,\n    renderActions: PropTypes.func,\n    renderSend: PropTypes.func,\n    renderAccessory: PropTypes.func,\n    onPressActionButton: PropTypes.func,\n    bottomOffset: PropTypes.number,\n    minInputToolbarHeight: PropTypes.number,\n    listViewProps: PropTypes.object,\n    keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n    onInputTextChanged: PropTypes.func,\n    maxInputLength: PropTypes.number,\n    forceGetKeyboardHeight: PropTypes.bool,\n    inverted: PropTypes.bool,\n    textInputProps: PropTypes.object,\n    extraData: PropTypes.object,\n    minComposerHeight: PropTypes.number,\n    maxComposerHeight: PropTypes.number,\n    alignTop: PropTypes.bool,\n    wrapInSafeArea: PropTypes.bool,\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    safeArea: {\n        flex: 1,\n    },\n});\nexport { GiftedChat, Actions, Avatar, Bubble, SystemMessage, MessageImage, MessageText, Composer, Day, InputToolbar, LoadEarlier, Message, MessageContainer, Send, Time, GiftedAvatar, utils, };\n//# sourceMappingURL=GiftedChat.js.map"]},"metadata":{},"sourceType":"script"}