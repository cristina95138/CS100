{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar XhrRequest = function () {\n  function XhrRequest() {\n    (0, _classCallCheck2.default)(this, XhrRequest);\n  }\n\n  (0, _createClass2.default)(XhrRequest, null, [{\n    key: \"ajax\",\n    value: function ajax(method, url) {\n      var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n      return new Promise(function (resolve, reject) {\n        var client = XhrRequest.createXMLHTTPObject();\n        var uri = url;\n        var payload = null;\n\n        if (args && method === XhrRequest.Method.GET) {\n          uri += \"?\";\n          var argcount = 0;\n\n          for (var key in args) {\n            if (args.hasOwnProperty(key)) {\n              if (argcount++) {\n                uri += \"&\";\n              }\n\n              uri += encodeURIComponent(key) + \"=\" + encodeURIComponent(args[key]);\n            }\n          }\n        } else if (args) {\n          if (!headers) {\n            headers = {};\n          }\n\n          headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n          payload = JSON.stringify(args);\n        }\n\n        for (var _key in options) {\n          if (_key in client) {\n            client[_key] = options[_key];\n          }\n        }\n\n        client.open(XhrRequest.Method[method], uri, true);\n\n        if (headers) {\n          for (var _key2 in headers) {\n            if (headers.hasOwnProperty(_key2)) {\n              client.setRequestHeader(_key2, headers[_key2]);\n            }\n          }\n        }\n\n        payload ? client.send(payload) : client.send();\n\n        client.onload = function () {\n          if (client.status >= 200 && client.status < 300) {\n            resolve(client);\n          } else {\n            reject(client);\n          }\n        };\n\n        client.onerror = function () {\n          reject(client);\n        };\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.GET, url, payload, headers, options);\n    }\n  }, {\n    key: \"post\",\n    value: function post(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.POST, url, payload, headers, options);\n    }\n  }, {\n    key: \"put\",\n    value: function put(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.PUT, url, payload, headers, options);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.DELETE, url, payload, headers, options);\n    }\n  }, {\n    key: \"createXMLHTTPObject\",\n    value: function createXMLHTTPObject() {\n      var xmlhttp = null;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(XhrRequest.XMLHttpFactories), _step; !(_step = _iterator()).done;) {\n        var i = _step.value;\n\n        try {\n          xmlhttp = i();\n        } catch (e) {\n          continue;\n        }\n\n        break;\n      }\n\n      return xmlhttp;\n    }\n  }]);\n  return XhrRequest;\n}();\n\nXhrRequest.XMLHttpFactories = [function () {\n  return new XMLHttpRequest();\n}, function () {\n  return new window[\"ActiveXObject\"](\"Msxml2.XMLHTTP\");\n}, function () {\n  return new window[\"ActiveXObject\"](\"Msxml3.XMLHTTP\");\n}, function () {\n  return new window[\"ActiveXObject\"](\"Microsoft.XMLHTTP\");\n}];\n\n(function (XhrRequest) {\n  var Method;\n\n  (function (Method) {\n    Method[Method[\"GET\"] = \"GET\"] = \"GET\";\n    Method[Method[\"POST\"] = \"POST\"] = \"POST\";\n    Method[Method[\"PUT\"] = \"PUT\"] = \"PUT\";\n    Method[Method[\"DELETE\"] = \"DELETE\"] = \"DELETE\";\n  })(Method = XhrRequest.Method || (XhrRequest.Method = {}));\n})(XhrRequest || (XhrRequest = {}));\n\nvar _default = XhrRequest;\nexports.default = _default;","map":{"version":3,"sources":["/Users/shraygrover/final-project-tech-bros/_chatle/node_modules/react-native-dialogflow/js/XhrRequest.js"],"names":["XhrRequest","method","url","args","headers","options","Promise","resolve","reject","client","createXMLHTTPObject","uri","payload","Method","GET","argcount","key","hasOwnProperty","encodeURIComponent","JSON","stringify","open","setRequestHeader","send","onload","status","onerror","ajax","POST","PUT","DELETE","xmlhttp","XMLHttpFactories","i","e","XMLHttpRequest","window"],"mappings":"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","sourcesContent":["/**\n * quick ts implementation of example from\n * https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * with some minor improvements\n * @todo: test (?)\n * @todo: add node.js implementation with node's http inside. Just to make SDK cross-platform\n */\nclass XhrRequest {\n    // Method that performs the ajax request\n    static ajax(method, url, args = null, headers = null, options = {}) {\n        // Creating a promise\n        return new Promise((resolve, reject) => {\n            // Instantiates the XMLHttpRequest\n            const client = XhrRequest.createXMLHTTPObject();\n            let uri = url;\n            let payload = null;\n            // Add given payload to get request\n            if (args && (method === XhrRequest.Method.GET)) {\n                uri += \"?\";\n                let argcount = 0;\n                for (const key in args) {\n                    if (args.hasOwnProperty(key)) {\n                        if (argcount++) {\n                            uri += \"&\";\n                        }\n                        uri += encodeURIComponent(key) + \"=\" + encodeURIComponent(args[key]);\n                    }\n                }\n            }\n            else if (args) {\n                if (!headers) {\n                    headers = {};\n                }\n                headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n                payload = JSON.stringify(args);\n            }\n            for (const key in options) {\n                if (key in client) {\n                    client[key] = options[key];\n                }\n            }\n            // hack: method[method] is somewhat like .toString for enum Method\n            // should be made in normal way\n            client.open(XhrRequest.Method[method], uri, true);\n            // Add given headers\n            if (headers) {\n                for (const key in headers) {\n                    if (headers.hasOwnProperty(key)) {\n                        client.setRequestHeader(key, headers[key]);\n                    }\n                }\n            }\n            payload ? client.send(payload) : client.send();\n            client.onload = () => {\n                if (client.status >= 200 && client.status < 300) {\n                    // Performs the function \"resolve\" when this.status is equal to 2xx\n                    resolve(client);\n                }\n                else {\n                    // Performs the function \"reject\" when this.status is different than 2xx\n                    reject(client);\n                }\n            };\n            client.onerror = () => {\n                reject(client);\n            };\n        });\n    }\n    static get(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.GET, url, payload, headers, options);\n    }\n    static post(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.POST, url, payload, headers, options);\n    }\n    static put(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.PUT, url, payload, headers, options);\n    }\n    static delete(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.DELETE, url, payload, headers, options);\n    }\n    static createXMLHTTPObject() {\n        let xmlhttp = null;\n        for (const i of XhrRequest.XMLHttpFactories) {\n            try {\n                xmlhttp = i();\n            }\n            catch (e) {\n                continue;\n            }\n            break;\n        }\n        return xmlhttp;\n    }\n}\nXhrRequest.XMLHttpFactories = [\n    () => new XMLHttpRequest(),\n    () => new window[\"ActiveXObject\"](\"Msxml2.XMLHTTP\"),\n    () => new window[\"ActiveXObject\"](\"Msxml3.XMLHTTP\"),\n    () => new window[\"ActiveXObject\"](\"Microsoft.XMLHTTP\")\n];\n(function (XhrRequest) {\n    let Method;\n    (function (Method) {\n        Method[Method[\"GET\"] = \"GET\"] = \"GET\";\n        Method[Method[\"POST\"] = \"POST\"] = \"POST\";\n        Method[Method[\"PUT\"] = \"PUT\"] = \"PUT\";\n        Method[Method[\"DELETE\"] = \"DELETE\"] = \"DELETE\";\n    })(Method = XhrRequest.Method || (XhrRequest.Method = {}));\n})(XhrRequest || (XhrRequest = {}));\nexport default XhrRequest;\n"]},"metadata":{},"sourceType":"script"}