{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.DEFAULT_BASE_URL = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _Errors = require(\"./Errors\");\n\nvar _XhrRequest = _interopRequireDefault(require(\"./XhrRequest\"));\n\nvar DEFAULT_BASE_URL = \"https://api.api.ai/v1/\";\nexports.DEFAULT_BASE_URL = DEFAULT_BASE_URL;\n\nvar ResetContextsRequest = function () {\n  function ResetContextsRequest(accessToken, sessionId, contextName) {\n    (0, _classCallCheck2.default)(this, ResetContextsRequest);\n\n    if (contextName != null) {\n      this.uri = DEFAULT_BASE_URL + \"contexts/\" + contextName + \"?sessionId=\" + sessionId;\n    } else {\n      this.uri = DEFAULT_BASE_URL + \"contexts?sessionId=\" + sessionId;\n    }\n\n    this.headers = {\n      Authorization: \"Bearer \" + accessToken,\n      Accept: \"application/json\"\n    };\n  }\n\n  (0, _createClass2.default)(ResetContextsRequest, [{\n    key: \"perform\",\n    value: function perform() {\n      return _XhrRequest.default.delete(this.uri, null, this.headers, {}).then(ResetContextsRequest.handleSuccess.bind(this)).catch(ResetContextsRequest.handleError.bind(this));\n    }\n  }], [{\n    key: \"handleSuccess\",\n    value: function handleSuccess(xhr) {\n      return Promise.resolve(JSON.parse(xhr.responseText));\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(xhr) {\n      var error = new _Errors.ApiAiRequestError(null);\n\n      try {\n        var serverResponse = JSON.parse(xhr.responseText);\n\n        if (serverResponse.status && serverResponse.status.errorDetails) {\n          error = new _Errors.ApiAiRequestError(serverResponse.status.errorDetails, serverResponse.status.code);\n        } else {\n          error = new _Errors.ApiAiRequestError(xhr.statusText, xhr.status);\n        }\n      } catch (e) {\n        error = new _Errors.ApiAiRequestError(xhr.statusText, xhr.status);\n      }\n\n      return Promise.reject(error);\n    }\n  }]);\n  return ResetContextsRequest;\n}();\n\nvar _default = ResetContextsRequest;\nexports.default = _default;","map":{"version":3,"sources":["/Users/armanikorsich/UCRCS100/final-project-tech-bros/_chatle/node_modules/react-native-dialogflow/js/ResetContextsRequest.js"],"names":["DEFAULT_BASE_URL","ResetContextsRequest","accessToken","sessionId","contextName","uri","headers","Authorization","Accept","XhrRequest","delete","then","handleSuccess","bind","catch","handleError","xhr","Promise","resolve","JSON","parse","responseText","error","ApiAiRequestError","serverResponse","status","errorDetails","code","statusText","e","reject"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACO,IAAMA,gBAAgB,GAAG,wBAAzB;;;IAGDC,oB;AACF,gCAAYC,WAAZ,EAAyBC,SAAzB,EAAoCC,WAApC,EAAiD;AAAA;;AAE7C,QAAIA,WAAW,IAAI,IAAnB,EAAyB;AACrB,WAAKC,GAAL,GAAWL,gBAAgB,GAAG,WAAnB,GAAiCI,WAAjC,GAA+C,aAA/C,GAA+DD,SAA1E;AACH,KAFD,MAEO;AACH,WAAKE,GAAL,GAAWL,gBAAgB,GAAG,qBAAnB,GAA2CG,SAAtD;AACH;;AAED,SAAKG,OAAL,GAAe;AACXC,MAAAA,aAAa,EAAE,YAAYL,WADhB;AAEXM,MAAAA,MAAM,EAAE;AAFG,KAAf;AAIH;;;;8BAoBS;AACN,aAAOC,oBAAWC,MAAX,CAAkB,KAAKL,GAAvB,EAA4B,IAA5B,EAAkC,KAAKC,OAAvC,EAAgD,EAAhD,EACFK,IADE,CACGV,oBAAoB,CAACW,aAArB,CAAmCC,IAAnC,CAAwC,IAAxC,CADH,EAEFC,KAFE,CAEIb,oBAAoB,CAACc,WAArB,CAAiCF,IAAjC,CAAsC,IAAtC,CAFJ,CAAP;AAGH;;;kCAvBoBG,G,EAAK;AACtB,aAAOC,OAAO,CAACC,OAAR,CAAgBC,IAAI,CAACC,KAAL,CAAWJ,GAAG,CAACK,YAAf,CAAhB,CAAP;AACH;;;gCACkBL,G,EAAK;AACpB,UAAIM,KAAK,GAAG,IAAIC,yBAAJ,CAAsB,IAAtB,CAAZ;;AACA,UAAI;AACA,YAAMC,cAAc,GAAGL,IAAI,CAACC,KAAL,CAAWJ,GAAG,CAACK,YAAf,CAAvB;;AACA,YAAIG,cAAc,CAACC,MAAf,IAAyBD,cAAc,CAACC,MAAf,CAAsBC,YAAnD,EAAiE;AAC7DJ,UAAAA,KAAK,GAAG,IAAIC,yBAAJ,CAAsBC,cAAc,CAACC,MAAf,CAAsBC,YAA5C,EAA0DF,cAAc,CAACC,MAAf,CAAsBE,IAAhF,CAAR;AACH,SAFD,MAGK;AACDL,UAAAA,KAAK,GAAG,IAAIC,yBAAJ,CAAsBP,GAAG,CAACY,UAA1B,EAAsCZ,GAAG,CAACS,MAA1C,CAAR;AACH;AACJ,OARD,CASA,OAAOI,CAAP,EAAU;AACNP,QAAAA,KAAK,GAAG,IAAIC,yBAAJ,CAAsBP,GAAG,CAACY,UAA1B,EAAsCZ,GAAG,CAACS,MAA1C,CAAR;AACH;;AACD,aAAOR,OAAO,CAACa,MAAR,CAAeR,KAAf,CAAP;AACH;;;;;eAOUrB,oB","sourcesContent":["/**\n * Created by toni on 30.08.2017.\n */\nimport { ApiAiRequestError } from \"./Errors\";\nimport XhrRequest from './XhrRequest';\nexport const DEFAULT_BASE_URL = \"https://api.api.ai/v1/\";\n\n\nclass ResetContextsRequest {\n    constructor(accessToken, sessionId, contextName) {\n\n        if (contextName != null) {\n            this.uri = DEFAULT_BASE_URL + \"contexts/\" + contextName + \"?sessionId=\" + sessionId;\n        } else {\n            this.uri = DEFAULT_BASE_URL + \"contexts?sessionId=\" + sessionId;\n        }\n\n        this.headers = {\n            Authorization: \"Bearer \" + accessToken,\n            Accept: \"application/json\",\n        };\n    }\n    static handleSuccess(xhr) {\n        return Promise.resolve(JSON.parse(xhr.responseText));\n    }\n    static handleError(xhr) {\n        let error = new ApiAiRequestError(null);\n        try {\n            const serverResponse = JSON.parse(xhr.responseText);\n            if (serverResponse.status && serverResponse.status.errorDetails) {\n                error = new ApiAiRequestError(serverResponse.status.errorDetails, serverResponse.status.code);\n            }\n            else {\n                error = new ApiAiRequestError(xhr.statusText, xhr.status);\n            }\n        }\n        catch (e) {\n            error = new ApiAiRequestError(xhr.statusText, xhr.status);\n        }\n        return Promise.reject(error);\n    }\n    perform() {\n        return XhrRequest.delete(this.uri, null, this.headers, {})\n            .then(ResetContextsRequest.handleSuccess.bind(this))\n            .catch(ResetContextsRequest.handleError.bind(this));\n    }\n}\nexport default ResetContextsRequest;"]},"metadata":{},"sourceType":"script"}